package cpu

const (
	NOP_OPCODE = 0x00

	LD_BC_N16_OPCODE = 0x01
	LD_DE_N16_OPCODE = 0x11
	LD_HL_N16_OPCODE = 0x21
	LD_SP_N16_OPCODE = 0x31

	LD_BCmem_A_OPCODE  = 0x02
	LD_DEmem_A_OPCODE  = 0x12
	LD_HLImem_A_OPCODE = 0x22
	LD_HLDmem_A_OPCODE = 0x32

	LD_A_BCMEM_OPCODE  = 0x0A
	LD_A_DEMEM_OPCODE  = 0x1A
	LD_A_HLIMEM_OPCODE = 0x2A
	LD_A_HLDMEM_OPCODE = 0x3A

	LD_N16_SP_OPCODE = 0x08

	INC_BC_OPCODE = 0x03
	INC_DE_OPCODE = 0x13
	INC_HL_OPCODE = 0x23
	INC_SP_OPCODE = 0x33

	DEC_BC_OPCODE = 0x0B
	DEC_DE_OPCODE = 0x1B
	DEC_HL_OPCODE = 0x2B
	DEC_SP_OPCODE = 0x3B

	ADD_HL_BC_OPCODE = 0x09
	ADD_HL_DE_OPCODE = 0x19
	ADD_HL_HL_OPCODE = 0x29
	ADD_HL_SP_OPCODE = 0x39

	INC_B_OPCODE     = 0x04
	INC_C_OPCODE     = 0x0C
	INC_D_OPCODE     = 0x14
	INC_E_OPCODE     = 0x1C
	INC_H_OPCODE     = 0x24
	INC_L_OPCODE     = 0x2C
	INC_HLMEM_OPCODE = 0x34
	INC_A_OPCODE     = 0x3C

	DEC_B_OPCODE     = 0x05
	DEC_C_OPCODE     = 0x0D
	DEC_D_OPCODE     = 0x15
	DEC_E_OPCODE     = 0x1D
	DEC_H_OPCODE     = 0x25
	DEC_L_OPCODE     = 0x2D
	DEC_HLMEM_OPCODE = 0x35
	DEC_A_OPCODE     = 0x3D

	LD_B_N8_OPCODE     = 0x06
	LD_C_N8_OPCODE     = 0x0E
	LD_D_N8_OPCODE     = 0x16
	LD_E_N8_OPCODE     = 0x1E
	LD_H_N8_OPCODE     = 0x26
	LD_L_N8_OPCODE     = 0x2E
	LD_HLMEM_N8_OPCODE = 0x36
	LD_A_N8_OPCODE     = 0x3E

	RLCA_OPCODE = 0x07
	RRCA_OPCODE = 0x0F
	RLA_OPCODE  = 0x17
	RRA_OPCODE  = 0x1F
	DAA_OPCODE  = 0x27
	CPL_OPCODE  = 0x2F
	SCF_OPCODE  = 0x37
	CCF_OPCODE  = 0x3F

	JR_E8_OPCODE = 0x18

	JR_NZ_E8_OPCODE = 0x20
	JR_Z_E8_OPCODE  = 0x28
	JR_NC_E8_OPCODE = 0x30
	JR_C_E8_OPCODE  = 0x38

	STOP_OPCODE = 0x10

	LD_B_B_OPCODE     = 0x40
	LD_B_C_OPCODE     = 0x41
	LD_B_D_OPCODE     = 0x42
	LD_B_E_OPCODE     = 0x43
	LD_B_H_OPCODE     = 0x44
	LD_B_L_OPCODE     = 0x45
	LD_B_HLMEM_OPCODE = 0x46
	LD_B_A_OPCODE     = 0x47

	LD_C_B_OPCODE     = 0x48
	LD_C_C_OPCODE     = 0x49
	LD_C_D_OPCODE     = 0x4A
	LD_C_E_OPCODE     = 0x4B
	LD_C_H_OPCODE     = 0x4C
	LD_C_L_OPCODE     = 0x4D
	LD_C_HLMEM_OPCODE = 0x4E
	LD_C_A_OPCODE     = 0x4F

	LD_D_B_OPCODE     = 0x50
	LD_D_C_OPCODE     = 0x51
	LD_D_D_OPCODE     = 0x52
	LD_D_E_OPCODE     = 0x53
	LD_D_H_OPCODE     = 0x54
	LD_D_L_OPCODE     = 0x55
	LD_D_HLMEM_OPCODE = 0x56
	LD_D_A_OPCODE     = 0x57

	LD_E_B_OPCODE     = 0x58
	LD_E_C_OPCODE     = 0x59
	LD_E_D_OPCODE     = 0x5A
	LD_E_E_OPCODE     = 0x5B
	LD_E_H_OPCODE     = 0x5C
	LD_E_L_OPCODE     = 0x5D
	LD_E_HLMEM_OPCODE = 0x5E
	LD_E_A_OPCODE     = 0x5F

	LD_H_B_OPCODE     = 0x60
	LD_H_C_OPCODE     = 0x61
	LD_H_D_OPCODE     = 0x62
	LD_H_E_OPCODE     = 0x63
	LD_H_H_OPCODE     = 0x64
	LD_H_L_OPCODE     = 0x65
	LD_H_HLMEM_OPCODE = 0x66
	LD_H_A_OPCODE     = 0x67

	LD_L_B_OPCODE     = 0x68
	LD_L_C_OPCODE     = 0x69
	LD_L_D_OPCODE     = 0x6A
	LD_L_E_OPCODE     = 0x6B
	LD_L_H_OPCODE     = 0x6C
	LD_L_L_OPCODE     = 0x6D
	LD_L_HLMEM_OPCODE = 0x6E
	LD_L_A_OPCODE     = 0x6F

	LD_HLMEM_B_OPCODE = 0x70
	LD_HLMEM_C_OPCODE = 0x71
	LD_HLMEM_D_OPCODE = 0x72
	LD_HLMEM_E_OPCODE = 0x73
	LD_HLMEM_H_OPCODE = 0x74
	LD_HLMEM_L_OPCODE = 0x75
	// HALT_OPCODE    = 0x76
	LD_HLMEM_A_OPCODE = 0x77

	LD_A_B_OPCODE     = 0x78
	LD_A_C_OPCODE     = 0x79
	LD_A_D_OPCODE     = 0x7A
	LD_A_E_OPCODE     = 0x7B
	LD_A_H_OPCODE     = 0x7C
	LD_A_L_OPCODE     = 0x7D
	LD_A_HLMEM_OPCODE = 0x7E
	LD_A_A_OPCODE     = 0x7F

	HALT_OPCODE = 0x76

	ADD_A_B_OPCODE     = 0x80
	ADD_A_C_OPCODE     = 0x81
	ADD_A_D_OPCODE     = 0x82
	ADD_A_E_OPCODE     = 0x83
	ADD_A_H_OPCODE     = 0x84
	ADD_A_L_OPCODE     = 0x85
	ADD_A_HLMEM_OPCODE = 0x86
	ADD_A_A_OPCODE     = 0x87

	ADC_A_B_OPCODE     = 0x88
	ADC_A_C_OPCODE     = 0x89
	ADC_A_D_OPCODE     = 0x8A
	ADC_A_E_OPCODE     = 0x8B
	ADC_A_H_OPCODE     = 0x8C
	ADC_A_L_OPCODE     = 0x8D
	ADC_A_HLMEM_OPCODE = 0x8E
	ADC_A_A_OPCODE     = 0x8F

	SUB_A_B_OPCODE     = 0x90
	SUB_A_C_OPCODE     = 0x91
	SUB_A_D_OPCODE     = 0x92
	SUB_A_E_OPCODE     = 0x93
	SUB_A_H_OPCODE     = 0x94
	SUB_A_L_OPCODE     = 0x95
	SUB_A_HLMEM_OPCODE = 0x96
	SUB_A_A_OPCODE     = 0x97

	SBC_A_B_OPCODE     = 0x98
	SBC_A_C_OPCODE     = 0x99
	SBC_A_D_OPCODE     = 0x9A
	SBC_A_E_OPCODE     = 0x9B
	SBC_A_H_OPCODE     = 0x9C
	SBC_A_L_OPCODE     = 0x9D
	SBC_A_HLMEM_OPCODE = 0x9E
	SBC_A_A_OPCODE     = 0x9F

	AND_A_B_OPCODE     = 0xA0
	AND_A_C_OPCODE     = 0xA1
	AND_A_D_OPCODE     = 0xA2
	AND_A_E_OPCODE     = 0xA3
	AND_A_H_OPCODE     = 0xA4
	AND_A_L_OPCODE     = 0xA5
	AND_A_HLMEM_OPCODE = 0xA6
	AND_A_A_OPCODE     = 0xA7

	XOR_A_B_OPCODE     = 0xA8
	XOR_A_C_OPCODE     = 0xA9
	XOR_A_D_OPCODE     = 0xAA
	XOR_A_E_OPCODE     = 0xAB
	XOR_A_H_OPCODE     = 0xAC
	XOR_A_L_OPCODE     = 0xAD
	XOR_A_HLMEM_OPCODE = 0xAE
	XOR_A_A_OPCODE     = 0xAF

	OR_A_B_OPCODE     = 0xB0
	OR_A_C_OPCODE     = 0xB1
	OR_A_D_OPCODE     = 0xB2
	OR_A_E_OPCODE     = 0xB3
	OR_A_H_OPCODE     = 0xB4
	OR_A_L_OPCODE     = 0xB5
	OR_A_HLMEM_OPCODE = 0xB6
	OR_A_A_OPCODE     = 0xB7

	CP_A_B_OPCODE     = 0xB8
	CP_A_C_OPCODE     = 0xB9
	CP_A_D_OPCODE     = 0xBA
	CP_A_E_OPCODE     = 0xBB
	CP_A_H_OPCODE     = 0xBC
	CP_A_L_OPCODE     = 0xBD
	CP_A_HLMEM_OPCODE = 0xBE
	CP_A_A_OPCODE     = 0xBF

	ADD_A_N8_OPCODE = 0xC6
	ADC_A_N8_OPCODE = 0xCE
	SUB_A_N8_OPCODE = 0xD6
	SBC_A_N8_OPCODE = 0xDE
	AND_A_N8_OPCODE = 0xE6
	XOR_A_N8_OPCODE = 0xEE
	OR_A_N8_OPCODE  = 0xF6
	CP_A_N8_OPCODE  = 0xFE

	POP_BC_OPCODE = 0xC1
	POP_DE_OPCODE = 0xD1
	POP_HL_OPCODE = 0xE1
	POP_AF_OPCODE = 0xF1

	PUSH_BC_OPCODE = 0xC5
	PUSH_DE_OPCODE = 0xD5
	PUSH_HL_OPCODE = 0xE5
	PUSH_AF_OPCODE = 0xF5

	RET_NZ_OPCODE = 0xC0
	RET_Z_OPCODE  = 0xC8
	RET_NC_OPCODE = 0xD0
	RET_C_OPCODE  = 0xD8

	RET_OPCODE  = 0xC9
	RETI_OPCODE = 0xD9

	JP_NZ_N16_OPCODE = 0xC2
	JP_Z_N16_OPCODE  = 0xCA
	JP_NC_N16_OPCODE = 0xD2
	JP_C_N16_OPCODE  = 0xDA

	JP_N16_OPCODE = 0xC3
	JP_HL_OPCODE  = 0xE9

	CALL_NZ_N16_OPCODE = 0xC4
	CALL_Z_N16_OPCODE  = 0xCC
	CALL_NC_N16_OPCODE = 0xD4
	CALL_C_N16_OPCODE  = 0xDC

	CALL_N16_OPCODE = 0xCD

	RST_00_OPCODE = 0xC7
	RST_08_OPCODE = 0xCF
	RST_10_OPCODE = 0xD7
	RST_18_OPCODE = 0xDF
	RST_20_OPCODE = 0xE7
	RST_28_OPCODE = 0xEF
	RST_30_OPCODE = 0xF7
	RST_38_OPCODE = 0xFF

	LDH_C_A_OPCODE = 0xE2
	LDH_A_C_OPCODE = 0xF2

	LDH_N8_A_OPCODE = 0xE0
	LDH_A_N8_OPCODE = 0xF0

	LD_N16_A_OPCODE = 0xEA
	LD_A_N16_OPCODE = 0xFA

	ADD_SP_E8_OPCODE = 0xE8

	LD_HL_SP_E8_OPCODE = 0xF8

	LD_SP_HL_OPCODE = 0xF9

	DI_OPCODE = 0xF3
	EI_OPCODE = 0xFB

	PREFIX_OPCODE = 0xCB

	RLC_R8_OPCODE  = 0x00
	RRC_R8_OPCODE  = 0x08
	RL_R8_OPCODE   = 0x10
	RR_R8_OPCODE   = 0x18
	SLA_R8_OPCODE  = 0x20
	SRA_R8_OPCODE  = 0x28
	SWAP_R8_OPCODE = 0x30
	SRL_R8_OPCODE  = 0x38

	BIT_0_R8_OPCODE = 0x40
	BIT_1_R8_OPCODE = 0x48
	BIT_2_R8_OPCODE = 0x50
	BIT_3_R8_OPCODE = 0x58
	BIT_4_R8_OPCODE = 0x60
	BIT_5_R8_OPCODE = 0x68
	BIT_6_R8_OPCODE = 0x70
	BIT_7_R8_OPCODE = 0x78

	RES_0_R8_OPCODE = 0x80
	RES_1_R8_OPCODE = 0x88
	RES_2_R8_OPCODE = 0x90
	RES_3_R8_OPCODE = 0x98
	RES_4_R8_OPCODE = 0xA0
	RES_5_R8_OPCODE = 0xA8
	RES_6_R8_OPCODE = 0xB0
	RES_7_R8_OPCODE = 0xB8

	SET_0_R8_OPCODE = 0xC0
	SET_1_R8_OPCODE = 0xC8
	SET_2_R8_OPCODE = 0xD0
	SET_3_R8_OPCODE = 0xD8
	SET_4_R8_OPCODE = 0xE0
	SET_5_R8_OPCODE = 0xE8
	SET_6_R8_OPCODE = 0xF0
	SET_7_R8_OPCODE = 0xF8
)

var OPCODES_CYCLES = [256]uint{
	1, 3, 2, 2, 1, 1, 2, 1, 5, 2, 2, 2, 1, 1, 2, 1,
	1, 3, 2, 2, 1, 1, 2, 1, 3, 2, 2, 2, 1, 1, 2, 1,
	2, 3, 2, 2, 1, 1, 2, 1, 2, 2, 2, 2, 1, 1, 2, 1,
	2, 3, 2, 2, 3, 3, 3, 1, 2, 2, 2, 2, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	2, 2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	2, 3, 3, 4, 3, 4, 2, 4, 2, 4, 3, 1, 3, 6, 2, 4,
	2, 3, 3, 0, 3, 4, 2, 4, 2, 4, 3, 0, 3, 0, 2, 4,
	3, 3, 2, 0, 0, 4, 2, 4, 4, 1, 4, 0, 0, 0, 2, 4,
	3, 3, 2, 1, 0, 4, 2, 4, 3, 2, 4, 1, 0, 0, 2, 4,
}

var OPCODES_CYCLES_BRANCH = map[uint8]uint{
	0x20: 3, 0x28: 3, 0x30: 3, 0x38: 3,
	0xC0: 5, 0xC8: 5, 0xD0: 5, 0xD8: 5,
	0xC2: 4, 0xCA: 4, 0xD2: 4, 0xDA: 4,
	0xC4: 6, 0xCC: 6, 0xD4: 6, 0xDC: 6,
}

var PREFIX_OPCODES_CYCLES = [256]uint{
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
	1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 1,
}

var OPCODES_BYTES = [256]int{
	1, 3, 1, 1, 1, 1, 2, 1, 3, 1, 1, 1, 1, 1, 2, 1,
	2, 3, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1,
	2, 3, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1,
	2, 3, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 3, 3, 3, 1, 2, 1, 1, 1, 3, 2, 3, 3, 2, 1,
	1, 1, 3, 0, 3, 1, 2, 1, 1, 1, 3, 0, 3, 0, 2, 1,
	2, 1, 1, 0, 0, 1, 2, 1, 2, 1, 3, 0, 0, 0, 2, 1,
	2, 1, 1, 1, 0, 1, 2, 1, 2, 1, 3, 1, 0, 0, 2, 1,
}
